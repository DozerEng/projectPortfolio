<!DOCTYPE html>
<html>
    <head>
        <!--
/*************************************************************************
# File Name: index.html
# Author: Michael Pillon
# Date: January 16, 2018
# Description:  Multi-Page NodeJS, SOCKET.IO server.
#			    Designed to expand on the Smart Life capstone into a functional
#               smart home setup.
#               
#               The system will function with a single server (this device) run on a BeagleBone 
#               Black serving client requests on a DDNS. It will also act as central hub for an
#               array of smart home devices the data from which will be combined and displayed on
#               a web page.
#
#
#
#			    
# 
//*************************************************************************/
        -->
        
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Pillon Engineering</title>

        <!-- Include the jquery library -->
        <script type=text/javascript src="http://code.jquery.com/jquery-1.7.1.min.js"></script> 
         <!-- Include the processing.js library -->
        <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script> 

        <link rel="stylesheet" href="styles.css">
        <link rel="icon" href="/images/favicon.ico">
        
    </head>
    <body>
        <div class="wrapper">

            <div class="logo">                
                <img 
                id="logo"
                src='/images/smartLifeLogo.png'
                alt='Smart Life Home Automation'>
            </div>

            <!-- Navigation Bar and Sidebar -->
            <div class="header">
                <div class="layout mobileNavBar">
                    <a href="javascript:void(0)" onclick="menu()">Menu &#9776</a>
                </div>
                <div class="layout navBar">
                        <a href="javascript:void(0)" id="home" onclick="navigateMain('home')">Home</a>
                        <a href="javascript:void(0)" id="about" onclick="navigateMain('about')">About</a>
                        <a href="javascript:void(0)" id="devices" onclick="navigateMain('devices')">Devices</a>
                        <a href="javascript:void(0)" id="otherProjects" onclick="navigateMain('otherProjects')">Other Projects</a>
                        <a href="javascript:void(0)" id="3dPrints" onclick="navigateMain('3dPrints')">3D Prints</a>
                </div>
            </div>
            <div class="sidebar">
                <div class="layout sideNavBar">
                    <hr>
                    <a href="javascript:void(0)" id="loginButton" onclick="loginButton('open', 'login')">Login</a>
                    <a href="javascript:void(0)" id="signUpButton" onclick="loginButton('open', 'signUp')">Sign Up</a>
                    <hr>
                    <div id="sidebarContent">
                        <a href="javascript:void(0)" id="3" onclick="navigateSide('3')">Sidebar3</a>
                        <a href="javascript:void(0)" id="4" onclick="navigateSide('4')">Sidebar4</a>
                        <a href="javascript:void(0)" id="5" onclick="navigateSide('5')">Sidebar 5</a>
                    </div>
                </div>
            </div>
            <!-- EO Navigation Bar and Sidebar -->

            <!-- Login / sign up pop ups-->
            <div class="backgroundCover" onclick="loginButton('close')"></div>
            <div class="loginPopUp" id="loginForm">
                <form action="/user/login" method="post" class="layout loginContainer">
                    <h6>Login<br>(Currently unavailable)</h6>

                    <label for="email">E-mail:</label>
                    <input type="text" placeholder="Enter Email" name="email" required>
                
                    <label for="password">Password:</label>
                    <input type="text" placeholder="Enter Password" name="password" required>

                    <button type="submit" class="submitButton">Login</button>
                    <button type="button" class="cancelButton" onclick="loginButton('close','login')">Close</button>
                </form>
            </div>

            <div class="loginPopUp" id="signUpForm">
                <form action="/user/signup" method="post" class="layout loginContainer">
                    <h6>Sign Up<br>(Currently unavailable)</h6>

                    <label for="email">E-mail:</label>
                    <input type="text" placeholder="Enter Email" name="email" required>
                
                    <label for="password1">Password:</label>
                    <input type="text" placeholder="Enter Password" name="password1" required>
                    <label for="password2">Retype Password:</label>
                    <input type="text" placeholder="Enter Password" name="password2" required>

                    <button type="submit" class="submitButton">Sign Up</button>
                    <button type="button" class="cancelButton" onclick="loginButton('close','signUp')">Close</button>
                </form>
            </div>
            <!-- EO Login / sign up pop ups-->
            

            <div class="leftPadding"></div>
            <div class="rightPadding"></div>

            <div class="content"> 
                
            </div>
            
            <div class="footer layout">            
                <p>Â© 2020 - Pillon Engineering</p>
            </div>
        </div>

    <script>
        //menu() needs to be rewritten using adding/removing classes instead of changing elements
        //Current fix is using !important for @media display: commands
        menu = () => {
            console.log($(".sideNavBar").is(":visible"));
            if($(".sideNavBar").is(":visible")) {
                $(".sideNavBar").css("display", "none");
                $(".navBar").css("display", "none");
                $(".sideNavBar a").css("display", "none");
                $(".navBar a").css("display", "none");
                $(".mobileNavBar").css("margin-bottom", "0px");
            } else {
                $(".sideNavBar").css("display", "block");
                $(".navBar").css("display", "block");
                $(".sideNavBar a").css("display", "block");
                $(".navBar a").css("display", "block");
                $(".mobileNavBar").css("margin-bottom", "10px");
            }
        }
        //Navigation Bar Links
        navigateMain = (page) => {
            $.ajax({
                url: "content/" + page + ".html",
                type: "GET",
                success: (result, status, xhr) => {
                    $(".content").empty();
                    $(".content").append(result);
                    $(".navBar .active").removeClass("active");
                    $(".sideNavBar .active").removeClass("active");
                    $("#" + page).addClass("active");

                    //clear mobile menu
                    if( $(window).width() < 900) {
                        $(".sideNavBar").css("display", "none");
                        $(".navBar").css("display", "none");
                        $(".sideNavBar a").css("display", "none");
                        $(".navBar a").css("display", "none");
                        $(".mobileNavBar").css("margin-bottom", "0px");
                    }
                }
            });
        }
        navigateSide = (page) => {
            $.ajax({
                url: "content/" + page + ".html",
                type: "GET",
                success: (result, status, xhr) => {
                    $(".content").empty();
                    $(".content").append(result);
                    $(".sideNavBar .active").removeClass("active");
                    $("#" + page).addClass("active");

                    //clear mobile menu
                    if( $(window).width() < 900) {
                        $(".sideNavBar").css("display", "none");
                        $(".navBar").css("display", "none");
                        $(".sideNavBar a").css("display", "none");
                        $(".navBar a").css("display", "none");
                        $(".mobileNavBar").css("margin-bottom", "0px");
                    }
                }
            });
        }
        //Load login/signup pop up
        loginButton = (windowAction, popupType) => {
            if(windowAction === 'open') {
                $(".backgroundCover").css('display', 'block');
                if(popupType === 'login') {
                    //enter login form
                    $('#loginForm').css('display', 'block');
                }
                else {
                    //enter sign up form
                    $('#signUpForm').css('display', 'block');
                }
            }
            else if(windowAction === 'close') {        
                $(".backgroundCover").css('display', 'none');        
                $('#loginForm').css('display', 'none');
                $('#signUpForm').css('display', 'none');    
            }
        }
        login = () => {

        }
        signUp = () => {

        }
        placeHolder = () => {

        }

        $(document).ready(navigateMain('home'));
    </script>
  
    </body>
     
</html>